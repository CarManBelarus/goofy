# Order

Методы сортировки.

### reverse

Обратная сортировка. Первый элемент станет последним и наоборот.

Аргументы
- (массив) `array` - массив, чьи элементы необходимо отсортировать в обратном направлении.

Пример 1 - Обратная сортировка
```js
let array = [1, 2, 3, 4, 5, 6];

Order.reverse(array);
// результат 6, 5, 4, 3, 2, 1

Order.reverse(array);
// результат 1, 2, 3, 4, 5, 6
```

Пример 2 - Обратная сортировка треков плейлиста
```js
let tracks = Source.getTracks(playlistArray);
Order.reverse(tracks);
```

### separateArtists

Сортировка, при которой соблюдается минимальный отступ между одним и тем же исполнителем. Треки, которые не удалось разместить будут исключены.

Аргументы
- (массив) `tracks` - массив треков, который нужно отсортировать.
- (число) `space` - значение минимального отступа.
- (булево) `isRandom` - влияет на сортировку. Если `true` выполняется случайная сортировка оригинального массива, что повлияет на порядок при разделении исполнителей. Если `false` без случайной сортировки. Тогда результат при одинаковых входных треках будет тоже одинаковыми. По умолчанию `false`.

Пример 1 - Условный пример разделения
```js
let array = ['cat', 'cat', 'dog', 'lion']
Order.separateArtists(array, 1, false);
// результат cat, dog, cat, lion

array = ['cat', 'cat', 'dog', 'lion']
Order.separateArtists(array, 1, false);
// повторный вызов, результат тот же: cat, dog, cat, lion

array = ['cat', 'cat', 'dog', 'lion']
Order.separateArtists(array, 1, true);
// повторный вызов и случайная сортировка: cat, lion, dog, cat
```

Пример 2 - Разделить одного и того же исполнителя минимум двумя другими.
```js
let tracks = Source.getTracks(playlistArray);
Order.separateArtists(tracks, 2);
```

### separateYears

Возвращает объект, в котором по ключу с годом будет массив с треками, вышедших в этот год. Треки массива не сортируются.

Аргументы
- (массив) `tracks` - массив треков, которые нужно разделить по годам.

Пример 1 - Получить треки вышедшие только в 2020 году
```js
let tracks2020 = Order.separateYears(tracks)['2020'];
```

Пример 2 - Возможна ошибка, при которой среди треков нет указанного года. Выберите одно из: используйте [pickYear](/func?id=pickyear), подмените пустым массивом, проверьте условием.
  
```js
// Подменить на пустой массив, если нет треков указанного года
let tracks2020 = Order.separateYears(tracks)['2020'] || [];

// Проверка через условие
let tracksByYear = Order.separateYears(tracks);
if (typeof tracksByYear['2020'] != 'undefined'){
    // треки есть
} else {
    // треков нет
}
```

### shuffle

Перемешивает элементы массива случайным образом.

Аргументы
- (массив) `array` - массив, чьи элементы необходимо перемешать.

Пример 1 - Случайное перемешивание
```js
let array = [1, 2, 3, 4, 5, 6];

Order.shuffle(array);
// результат 3, 5, 4, 6, 2, 1

Order.shuffle(array);
// результат 6, 1, 2, 3, 5, 4

Order.shuffle(array);
// результат 6, 5, 2, 3, 1, 4
```

Пример 2 - Перемешать треки
```js
let tracks = Source.getTracks(playlistArray);
Order.shuffle(tracks);
```

### sort

Сортирует оригинальный массив по заданному ключу.

!> Функция делает дополнительные запросы. Чтобы сократить число запросов, используйте ее после максимального сокращения массива треков другими способами. Подробнее в [rangeTracks](/func?id=rangetracks).

Аргументы
- (массив) `source` - массив, который нужно отсортировать. Допустим массив треков, исполнителей или альбомов.
- (строка) `pathKey` - ключ сортировки.
- (строка) `direction` - направление сортировки: `asc` по возрастанию, `desc` по убыванию. По умолчанию `asc`.

Допустимые ключи в формате `категория.ключ`. Описание ключей [здесь](/guide?id=Описание-параметров-объектов). При использовании категории `features` общий поток любых треков становится приятнее.

| Категория | Ключ |
|-|-|
| meta | name, popularity, duration_ms, explicit, added_at, played_at |
| features | acousticness, danceability, energy, instrumentalness, liveness, loudness, speechiness, valence, tempo, key, mode, time_signature, duration_ms |
| artist | popularity, followers, name |
| album | popularity, name, release_date |

?> Если смешивается несколько источников треков, не у всех есть указанный ключ. Например, `played_at` есть только у истории прослушиваний.

Пример 1 - Сортировка по убывающей популярности исполнителей
```js
Order.sort(tracks, 'artist.popularity', 'desc');
```

Пример 2 - Сортировка по возрастающей энергичности
```js
Order.sort(tracks, 'features.energy', 'asc');
```
